!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ES6Template",[],e):"object"==typeof exports?exports.ES6Template=e():t.ES6Template=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(2),a={draggingClass:"dragging",wrapper:null,limitX:[-9999,9999],limitY:[-9999,9999],lockX:!1,lockY:!1,useGPU:!0,lockScreen:!1},u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t),this.config=s.util.extend(a,o),this.ele=e,this.dragEvent=s.util.getDragEvents(),this.onDragStart=n.onDragStart||r,this.onDragIng=n.onDragIng||r,this.onDragEnd=n.onDragEnd||r,this.init()}return o(t,[{key:"init",value:function(){this.startPos=s.util.getPosition(this.ele),this.initPos=s.util.getOffsetPosition(this.ele),this.currPos={x:0,y:0},this.prefix=s.util.getStylePrefix(),this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),s.util.addEvent(this.ele,this.dragEvent.start,this.start),this.config.wrapper&&this.limitDragInWrapper(this.config.wrapper),this.config.lockScreen&&this.limitDragInScreen(),this.initGPUAcceleration(),document.ontouchend=r}},{key:"initGPUAcceleration",value:function(){this.config.useGPU&&s.util.setCSSText(this.ele,"transform: translate3d(0px, 0px, 0px);")}},{key:"getPosInLimit",value:function(t,e,n){var i=void 0;return t>=e&&t<=n?i=t:t<e?i=e:t>n&&(i=n),i}},{key:"getRealPosition",value:function(t,e){return{x:t.x+e.x,y:t.y+e.y}}},{key:"moveTo",value:function(t){var e=this.config.useGPU?"translate3d(0px, 0px, 0px)":"",n=this.prefix+":translate("+t.x+"px, "+t.y+"px) "+e+";";s.util.setCSSText(this.ele,n)}},{key:"start",value:function(t){var e=this;e.ele.setCapture?e.ele.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),s.util.preventDefault(t),s.util.addClass(e.ele,e.config.draggingClass),e.startPos=s.util.getPosition(e.ele),e.startCursor=s.util.getCursor(t),s.util.addEvent(document,e.dragEvent.move,e.move),s.util.addEvent(document,e.dragEvent.end,e.end),e.onDragStart(e.startCursor.x,e.startCursor.y,t)}},{key:"move",value:function(t){var e=this,n=s.util.getCursor(t);if(s.util.preventDefault(t),!e.config.lockX){var i=n.x-e.startCursor.x,r=e.startPos.x+i;e.startPos.x=e.getPosInLimit(r,e.config.limitX[0],e.config.limitX[1]),e.startPos.x===r&&(e.startCursor.x=n.x)}if(!e.config.lockY){var o=n.y-e.startCursor.y,a=e.startPos.y+o;e.startPos.y=e.getPosInLimit(a,e.config.limitY[0],e.config.limitY[1]),e.startPos.y===a&&(e.startCursor.y=n.y)}e.moveTo(e.startPos),e.currPos=e.getRealPosition(e.initPos,e.startPos),e.onDragIng(e.currPos.x,e.currPos.y,t)}},{key:"end",value:function(){var t=this;s.util.removeClass(t.ele,t.config.draggingClass),s.util.removeEvent(document,t.dragEvent.move,t.move),s.util.removeEvent(document,t.dragEvent.end,t.end),window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}},{key:"setBoundWithSizeAndPos",value:function(t,e,n,i){var r=this,o=0,s=0,a=0,u=0;r.config.lockX||(o=t.x-e.x,a=n.width-i.width-Math.abs(o)),r.config.lockY||(s=t.y-e.y,u=n.height-i.height-Math.abs(s)),this.config.limitX=[o,a],this.config.limitY=[s,u]}},{key:"limitDragInWrapper",value:function(t){var e=this;e.setBoundWithSizeAndPos(s.util.getOffsetPosition(t),s.util.getOffsetPosition(e.ele),s.util.getEleSize(t),s.util.getEleSize(e.ele))}},{key:"limitDragInScreen",value:function(){var t=this;t.setBoundWithSizeAndPos({x:0,y:0},s.util.getOffsetPosition(t.ele),s.util.getScreenSize(),s.util.getEleSize(t.ele))}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},getDragEvents:function(){var t={start:"mousedown",move:"mousemove",end:"mouseup"},e={start:"touchstart",move:"touchmove",end:"touchend"};return n.isTouchDevice()?e:t},getStylePrefix:function(){for(var t=" -o- -ms- -moz- -webkit-".split(" "),e=document.body.style,n=t.length;n--;){var i=t[n]+"transform";if(i in e)return i}},isStrEndWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},setCSSText:function(t,e){var i=t.style.cssText;n.isStrEndWith(i,";")||(i+=";"),t.style.cssText=i+e},getOffsetPosition:function(t){var e=t.getBoundingClientRect();return{x:e.left+document.body.scrollLeft,y:e.top+document.body.scrollTop}},getPosition:function(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),i=n.getStylePrefix(),r=e.getPropertyValue(i),o=r.match(/^matrix3d\((.+)\)$/);if(o){var s=o[1].split(", ");return{x:parseFloat(s[12]),y:parseFloat(s[13])}}var a=r.match(/^matrix\((.+)\)$/);if(a){var u=a[1].split(", ");return{x:parseFloat(u[4]),y:parseFloat(u[5])}}return{x:0,y:0}}},hasClass:function(t,e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)"),i=t.getAttribute("class")?t.className:"";return n.test(i)},addClass:function(t,e){if(!n.hasClass(t,e))return t.className+=" "+e},removeClass:function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");return t.className=t.className.replace(i," ")}},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},preventDefault:function(t){t.preventDefault?t.preventDefault():event.returnValue=!1},getCursor:function(t){return"ontouchstart"in window?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.clientX,y:t.clientY}},getEleSize:function(t){return{width:parseInt(t.clientWidth,10),height:parseInt(t.clientHeight,10)}},getScreenSize:function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}}};e.util=n}])});
//# sourceMappingURL=index.min.js.map