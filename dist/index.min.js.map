{"version":3,"file":"./index.min.js","sources":["webpack:///./index.min.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"ES6Template\",[],e):\"object\"==typeof exports?exports.ES6Template=e():t.ES6Template=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p=\"/\",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){\"use strict\";function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(){}Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(2),a={draggingClass:\"dragging\",wrapper:null,limitX:[-9999,9999],limitY:[-9999,9999],lockX:!1,lockY:!1,useGPU:!0,lockScreen:!1,CSSPosition:\"absolute\"},u=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,t),this.config=r.util.extend(a,s),this.ele=e,this.dragEvent=r.util.getDragEvents(),this.onDragStart=i.onDragStart||o,this.onDragIng=i.onDragIng||o,this.onDragEnd=i.onDragEnd||o,this.isFixed=!(\"fixed\"!==this.config.CSSPosition),this.init()}return s(t,[{key:\"init\",value:function(){this.startPos=r.util.getOffsetPosition(this.ele,this.isFixed),this.initPos=r.util.getOffsetPosition(this.ele,this.isFixed),this.prefix=r.util.getStylePrefix(),this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.limitDragInWrapper(),this.moveTo(this.initPos),this.enable(),document.ontouchend=o}},{key:\"getPosInLimit\",value:function(t,e,i){var n=void 0;return t>=e&&t<=i?n=t:t<e?n=e:t>i&&(n=i),n}},{key:\"moveTo\",value:function(t){var e=this.config.useGPU?\"transform: translate3d(0px, 0px, 0px)\":\"\",i=e+\";\\n\\t\\t\\t\\t\\t  position : \"+this.config.CSSPosition+\";\\n\\t\\t\\t\\t\\t  left     : \"+t.x+\"px;\\n\\t\\t\\t\\t\\t  top      : \"+t.y+\"px;\\n\\t\\t\\t\\t\\t  margin   : 0;\\n\\t\\t\\t\\t\\t  bottom   : auto;\\n\\t\\t\\t\\t\\t  right    : auto;\";r.util.setCSSText(this.ele,i)}},{key:\"enable\",value:function(){r.util.addEvent(this.ele,this.dragEvent.start,this.start)}},{key:\"disable\",value:function(){r.util.removeEvent(this.ele,this.dragEvent.start,this.start)}},{key:\"start\",value:function(t){var e=this;e.ele.setCapture?e.ele.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),r.util.preventDefault(t),r.util.addClass(e.ele,e.config.draggingClass),e.startPos=r.util.getOffsetPosition(e.ele,this.isFixed),e.startCursor=r.util.getCursor(t),r.util.addEvent(document,e.dragEvent.move,e.move),r.util.addEvent(document,e.dragEvent.end,e.end),e.onDragStart(e.startPos.x,e.startPos.y,t),this.limitDragInWrapper(),this.moveTo(this.startPos)}},{key:\"setZoom\",value:function(){for(var t=this,e=t.ele,i=1;e=e.offsetParent;){var n=getStyle(e).zoom;if(n&&\"normal\"!==n){i=n;break}}return i}},{key:\"move\",value:function(t){var e=this,i=r.util.getCursor(t),n={x:e.startPos.x,y:e.startPos.y};if(r.util.preventDefault(t),!e.config.lockX){var o=i.x-e.startCursor.x+e.startPos.x,s=e.getPosInLimit(o,e.config.limitX[0],e.config.limitX[1]);n.x=s}if(!e.config.lockY){var a=i.y-e.startCursor.y+e.startPos.y,u=e.getPosInLimit(a,e.config.limitY[0],e.config.limitY[1]);n.y=u}e.moveTo(n),e.onDragIng(n.x,n.y,t),e.lastPos=n}},{key:\"end\",value:function(){var t=this;r.util.removeClass(t.ele,t.config.draggingClass),r.util.removeEvent(document,t.dragEvent.move,t.move),r.util.removeEvent(document,t.dragEvent.end,t.end),window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);var e=this.lastPos&&this.lastPos.x?this.lastPos:this.startPos;t.onDragEnd(e.x,e.y)}},{key:\"setBoundWithSizeAndPos\",value:function(t,e,i,n){var o=this,s=0,r=0,a=0,u=0;o.config.lockX||(s=t.x-e.x,a=i.width-n.width-Math.abs(s)),o.config.lockY||(r=t.y-e.y,u=i.height-n.height-Math.abs(r)),this.config.limitX=[e.x+s,e.x+a],this.config.limitY=[e.y+r,e.y+u]}},{key:\"limitDragInWrapper\",value:function(){if(this.config.wrapper||this.config.lockScreen){if(this.config.wrapper){var t=(this.config.wrapper,this);t.setBoundWithSizeAndPos(r.util.getOffsetPosition(outer,this.isFixed),r.util.getOffsetPosition(t.ele,this.isFixed),r.util.getEleSize(outer),r.util.getEleSize(t.ele))}if(this.config.lockScreen){var e=this;e.setBoundWithSizeAndPos({x:0,y:0},r.util.getOffsetPosition(e.ele,this.isFixed),r.util.getScreenSize(),r.util.getEleSize(e.ele))}}}}]),t}();e.default=u,t.exports=e.default},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i={extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},isTouchDevice:function(){return\"ontouchstart\"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},getDragEvents:function(){var t={start:\"mousedown\",move:\"mousemove\",end:\"mouseup\"},e={start:\"touchstart\",move:\"touchmove\",end:\"touchend\"};return i.isTouchDevice()?e:t},getStylePrefix:function(){for(var t=\" -o- -ms- -moz- -webkit-\".split(\" \"),e=document.body.style,i=t.length;i--;){var n=t[i]+\"transform\";if(n in e)return n}},isStrEndWith:function(t,e){var i=t.length-e.length;return i>=0&&t.indexOf(e,i)===i},setCSSText:function(t,e){var n=t.style.cssText;i.isStrEndWith(n,\";\")||(n+=\";\"),t.style.cssText=n+e},getOffsetPosition:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.getBoundingClientRect();return e?{x:i.left,y:i.top}:{x:i.left+document.body.scrollLeft,y:i.top+document.body.scrollTop}},getPosition:function(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=i.getStylePrefix(),o=e.getPropertyValue(n),s=o.match(/^matrix3d\\((.+)\\)$/);if(s){var r=s[1].split(\", \");return{x:parseFloat(r[12]),y:parseFloat(r[13])}}var a=o.match(/^matrix\\((.+)\\)$/);if(a){var u=a[1].split(\", \");return{x:parseFloat(u[4]),y:parseFloat(u[5])}}return{x:0,y:0}}},hasClass:function(t,e){var i=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"),n=t.getAttribute(\"class\")?t.className:\"\";return i.test(n)},addClass:function(t,e){if(!i.hasClass(t,e))return t.className+=\" \"+e},removeClass:function(t,e){if(i.hasClass(t,e)){var n=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");return t.className=t.className.replace(n,\" \")}},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent(\"on\"+e,i):t[\"on\"+e]=i},removeEvent:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent(\"on\"+e,i):t[\"on\"+e]=null},preventDefault:function(t){t.preventDefault?t.preventDefault():event.returnValue=!1},getCursor:function(t){return\"ontouchstart\"in window?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.clientX,y:t.clientY}},getEleSize:function(t){return{width:parseInt(t.clientWidth,10),height:parseInt(t.clientHeight,10)}},getScreenSize:function(){var t=window,e=\"inner\";return\"innerWidth\"in window||(e=\"client\",t=document.documentElement||document.body),{width:t[e+\"Width\"],height:t[e+\"Height\"]}}};e.util=i}])});\n\n\n// WEBPACK FOOTER //\n// ./index.min.js"],"mappings":"AAAA","sourceRoot":""}