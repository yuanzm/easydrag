{"version":3,"file":"./index.min.js","sources":["webpack:///./index.min.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"ES6Template\",[],e):\"object\"==typeof exports?exports.ES6Template=e():t.ES6Template=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p=\"/\",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){\"use strict\";function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function r(){}Object.defineProperty(e,\"__esModule\",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(2),a={draggingClass:\"dragging\",wrapper:null,limitX:[-9999,9999],limitY:[-9999,9999],lockX:!1,lockY:!1,useGPU:!0},u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t),this.config=s.util.extend(a,o),console.log(this.config),this.ele=e,this.dragEvent=s.util.getDragEvents(),this.onDragStart=n.onDragStart||r,this.onDragIng=n.onDragIng||r,this.onDragEnd=n.onDragEnd||r,this.init()}return o(t,[{key:\"init\",value:function(){this.startPos={x:0,y:0},this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),s.util.addEvent(this.ele,this.dragEvent.start,this.start),this.config.wrapper&&this.setWrapper(this.config.wrapper)}},{key:\"getPosInLimit\",value:function(t,e,n){var i=void 0;return t>=e&&t<=n?i=t:t<e?i=e:t>n&&(i=n),i}},{key:\"moveTo\",value:function(t){var e=s.util.getStylePrefix();this.ele.style.cssText=e+\":translate(\"+t.x+\"px, \"+t.y+\"px);\"}},{key:\"start\",value:function(t){var e=this;s.util.preventDefault(t),s.util.addClass(e.ele,e.config.draggingClass),e.startPos=s.util.getPosition(e.ele),e.startCursor=s.util.getCursor(t),s.util.addEvent(document,e.dragEvent.move,e.move),s.util.addEvent(document,e.dragEvent.end,e.end),e.onDragStart(e.startCursor.x,e.startCursor.y,t)}},{key:\"move\",value:function(t){var e=this,n=s.util.getCursor(t);if(s.util.preventDefault(t),!e.config.lockX){var i=n.x-e.startCursor.x,r=e.startPos.x+i;e.startPos.x=e.getPosInLimit(r,e.config.limitX[0],e.config.limitX[1]),e.startPos.x===r&&(e.startCursor.x=n.x)}if(!e.config.lockY){var o=n.y-e.startCursor.y,a=e.startPos.y+o;e.startPos.y=e.getPosInLimit(a,e.config.limitY[0],e.config.limitY[1]),e.startPos.y===a&&(e.startCursor.y=n.y)}e.moveTo(e.startPos),e.onDragIng(e.startPos.x,e.startPos.y,t)}},{key:\"end\",value:function(){var t=this;s.util.removeClass(t.ele,t.config.draggingClass),s.util.removeEvent(document,t.dragEvent.move,t.move),s.util.removeEvent(document,t.dragEvent.end,t.end)}},{key:\"setWrapper\",value:function(t){var e=this,n=s.util.getPosition(t),i=s.util.getPosition(e.ele),r=s.util.getEleSize(t),o=s.util.getEleSize(e.ele),a=0,u=0,l=0,c=0;e.config.lockX||(a=i.x-n.x,l=r.width-o.width-Math.abs(a)),e.config.lockY||(u=i.y-n.y,c=r.height-o.height-Math.abs(u)),this.config.limitX=[a,l],this.config.limitY=[u,c],console.log(this.config.limitY)}}]),t}();e[\"default\"]=u,t.exports=e[\"default\"]},function(t,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},getDragEvents:function(){var t={start:\"mousedown\",move:\"mousemove\",end:\"mouseup\"},e={start:\"touchstart\",move:\"touchmove\",end:\"touchend\"};return\"ontouchstart\"in window?e:t},getStylePrefix:function(){for(var t=\" -o- -ms- -moz- -webkit-\".split(\" \"),e=document.body.style,n=t.length;n--;){var i=t[n]+\"transform\";if(i in e)return i}},getPosition:function(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform||e.mozTransform||e.msTransform,i=n.match(/^matrix3d\\((.+)\\)$/),r=void 0,o=void 0;return i?parseFloat(i[1].split(\", \")[13]):(i=n.match(/^matrix\\((.+)\\)$/),r=i?parseFloat(i[1].split(\", \")[4]):0,o=i?parseFloat(i[1].split(\", \")[5]):0,{x:r,y:o})}},hasClass:function(t,e){var n=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"),i=t.getAttribute(\"class\")?t.className:\"\";return n.test(i)},addClass:function(t,e){if(!n.hasClass(t,e))return t.className+=\" \"+e},removeClass:function(t,e){if(n.hasClass(t,e)){var i=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\");return t.className=t.className.replace(i,\" \")}},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent(\"on\"+e,n):t[\"on\"+e]=n},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent(\"on\"+e,n):t[\"on\"+e]=null},preventDefault:function(t){t.preventDefault?t.preventDefault():event.returnValue=!1},getCursor:function(t){return\"ontouchstart\"in window?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.clientX,y:t.clientY}},getEleSize:function(t){return{width:parseInt(t.clientWidth,10),height:parseInt(t.clientHeight,10)}}};e.util=n}])});\n\n\n/** WEBPACK FOOTER **\n ** ./index.min.js\n **/"],"mappings":"AAAA","sourceRoot":""}